<div class="row">
  <div class="col-md-3">
    <div class="card shadow">
      <img
        *ngIf="product.variants.length > 0"
        [src]="product.variants[0].picture"
        class="card-img-top"
      />

      <div class="card-body">
        <h5 class="card-title">{{ product.title }}</h5>
        <p class="card-text">
          {{ product.description }}
        </p>
      </div>
      <!-- <ul class="list-group list-group-flush">
        <li class="list-group-item" *ngFor="let warna of product.pilihanWarna">
          {{ warna }}
        </li>
      </ul> -->
      <div class="card-footer">IDR {{ product.price }}</div>
    </div>
  </div>

  <div class="col-md-9">
    <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
      <li [ngbNavItem]="1">
        <button ngbNavLink>Detail Product</button>
        <ng-template ngbNavContent>
          <div class="card mb-3 shadow">
            <div class="card-body">
              <h5 class="card-title">Form Product</h5>
              <div class="form-group mb-3">
                <label>Nama</label>
                <input
                  type="text"
                  class="form-control"
                  [(ngModel)]="product.title"
                />
              </div>
              <div class="form-group mb-3">
                <label>Description</label>
                <textarea
                  class="form-control"
                  [(ngModel)]="product.description"
                ></textarea>
              </div>
              <div class="form-group mb-3">
                <label>Harga</label>
                <input
                  type="number"
                  class="form-control"
                  [(ngModel)]="product.price"
                />
              </div>
              <!-- <div class="form-group mb-3">
          <label>Image URL</label>
          <input type="text" class="form-control" [(ngModel)]="product.foto" />
        </div> -->
            </div>
          </div>
        </ng-template>
      </li>
      <li [ngbNavItem]="2">
        <button ngbNavLink>Product Metadata</button>
        <ng-template ngbNavContent>
          <div class="card shadow">
            <div class="card-body">
              <h5 class="card-title">Meta Data</h5>
              <div class="row mb-3">
                <div class="col">
                  <div class="form-group">
                    <label>Key</label>
                    <input
                      type="text"
                      class="form-control"
                      [(ngModel)]="productVariant.key"
                    />
                  </div>
                </div>
                <div class="col">
                  <div class="form-group">
                    <label>Value</label>
                    <input
                      type="text"
                      class="form-control"
                      [(ngModel)]="productVariant.value"
                    />
                  </div>
                </div>
              </div>
              <div class="row mb-3">
                <div class="col">
                  <div class="form-group">
                    <label>Picture</label>
                    <input
                      type="text"
                      class="form-control"
                      [(ngModel)]="productVariant.picture"
                    />
                  </div>
                </div>
              </div>
              <div class="row mb-3">
                <div class="col">
                  <button class="btn btn-primary" (click)="addVariant()">
                    Add Variant
                  </button>
                  <button class="btn btn-primary" (click)="updateVariant()">
                    Update Variant
                  </button>
                </div>
              </div>
              <table class="hover striped">
                <thead>
                  <tr>
                    <th>Key</th>
                    <th>Value</th>
                    <th>Picture</th>
                    <th>#</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let variant of product.variants; let i = index">
                    <td>{{ variant.key }}</td>
                    <td>{{ variant.value }}</td>
                    <td>
                      <img
                        [src]="variant.picture"
                        class="img-thumbnail"
                        width="100"
                      />
                    </td>
                    <td>
                      <button
                        (click)="getVariant(variant)"
                        class="btn btn-warning"
                      >
                        Edit
                      </button>
                      <button (click)="deleteVariant(i)" class="btn btn-danger">
                        Delete
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </ng-template>
      </li>
    </ul>

    <div [ngbNavOutlet]="nav" class="mt-2"></div>

    <!-- <div class="card mb-3 shadow">
      <div class="card-body">
        <h5 class="card-title">Product Variant Warna</h5>
        <div class="input-group mb-3">
          <input type="text" [(ngModel)]="variantWarna" class="form-control" />
          <button
            class="btn btn-outline-secondary"
            type="button"
            id="button-addon2"
            (click)="addWarna()"
          >
            Add
          </button>
        </div>
      </div>
    </div> -->
  </div>
</div>
